import * as actions from '../../actions/hours'
import configureMockStore from 'redux-mock-store'
import nock from 'nock'
import thunk from 'redux-thunk'
import Config from '../../shared/Configuration'

const middlewares = [ thunk ]
const mockStore = configureMockStore(middlewares)
const mockPageResponse = {
  "hesburghlibrary": {"name": "Hesburgh Library","today": {"date": "2017-07-12","display": "7:30am - 11pm","opens": "07:30","closes": "23:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "10am - 11pm","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "7:30am - 11pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "9am - 11pm","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "10am - 11pm","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "7am - 11pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "9am - 11pm","rowDisplay": "Saturday"}],"display": "July 30th - August 5th","dates": ["2017-07-30","2017-07-31","2017-08-01","2017-08-02","2017-08-03","2017-08-04","2017-08-05"]}},"architecturelibrary": {"name": "Architecture Library","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"aubonpaincafeclickforhours": {"name": "Au Bon Pain Cafe (click for hours)","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"askusdesk": {"name": "Ask Us Desk","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},
  "thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"centerfordigitalscholarship": {"name": "Center for Digital Scholarship","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"chemistryphysicslibrary": {"name": "Chemistry-Physics Library","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},
  "circulationservicedesk": {"name": "Circulation Service Desk","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"engineeringlibrary": {"name": "Engineering Library","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"kelloggkroclibrary": {"name": "Kellogg Kroc Library","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"mahaffeybusinesslibrary": {"name": "Mahaffey Business Library","today":
  {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"medievalinstitutelibrary": {"name": "Medieval Institute Library","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"musiclibrary": {"name": "Music Library","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"oitoutpost": {"name": "OIT Outpost","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},
  "thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"omearamathematicslibrary": {"name": "O'Meara Mathematics Library","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"radiationchemistryreadingroom": {"name": "Radiation Chemistry Reading Room","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"reservesmicrotextandmediadesk": {"name": "Reserves, Microtext, and Media Desk","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},
  "thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"rarebooksspecialcollections": {"name": "Rare Books & Special Collections","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"universityarchives": {"name": "University Archives","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},"thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}},"visualresourcescenter": {"name": "Visual Resources Center","today": {"date": "2017-07-12","display": "9am - 5pm","opens": "09:00","closes": "17:00"},
  "thisWeek": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": "Friday","display": "9am - 5pm","rowDisplay": "Monday - Friday"},{"fromDay": "Saturday","toDay": null,"display": "Closed","rowDisplay": "Saturday"}],"display": "July 9th - 15th","dates": ["2017-07-09","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-15"]},"upcomingDifferentHours": {"rows": [{"fromDay": "Sunday","toDay": null,"display": "Closed","rowDisplay": "Sunday"},{"fromDay": "Monday","toDay": null,"display": "9am - 5pm","rowDisplay": "Monday"},{"fromDay": "Tuesday","toDay": "Thursday","display": "9am - 11pm","rowDisplay": "Tuesday - Thursday"},{"fromDay": "Friday","toDay": null,"display": "9am - 5:30pm","rowDisplay": "Friday"},{"fromDay": "Saturday","toDay": null,"display": "12pm - 5:30pm","rowDisplay": "Saturday"}],"display": "August 20th - 26th","dates": ["2017-08-20","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-26"]}}
}

const extractHostname = (url) => {
  return url.match(/http[s]?:\/\/.*[.]edu/)[0]
}

describe('hours requestHours action creator', () => {
  it('should create a HOURS_REQUEST action for the requested hours', () => {
    const expectedAction = {
      type: actions.HOURS_REQUEST,
    }

    expect(actions.requestHours()).toEqual(expectedAction)
  })
})

describe('hours fetchHours async action creator', () => {
  it('should first create a HOURS_REQUEST action for the requested page', () => {
    nock(Config.hoursAPIURL)
      .get('/hours')
      .reply(200, mockPageResponse)

    const expectedAction = {
      type: actions.HOURS_REQUEST,
    }

    const store = mockStore({ })
    return store.dispatch(actions.fetchHours())
      .then(() => {
        expect(store.getActions()[0]).toMatchObject(expectedAction)
      })
  })

  describe('Data Requests', () => {
    beforeEach(() => {
      console.log(Config)
      nock(Config.hoursAPIURL)
        .get('/hours')
        .reply(200, mockPageResponse)
    })
    afterEach(() => {
      nock.cleanAll()
    })

    it('should create a HOURS_RECEIVE action for the content returned ', () => {
      const expectedAction = {
        type: actions.HOURS_RECEIVE,
        status: 'API_STATUS_SUCCESS',
        hours: mockPageResponse,
      }

      const store = mockStore({ })
      return store.dispatch(actions.fetchHours())
        .then(() => {
          expect(store.getActions()[1]).toMatchObject(expectedAction)
        })
    })
  })
})
